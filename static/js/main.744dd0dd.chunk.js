(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{37:function(e,t,a){e.exports=a.p+"static/media/search.ba135db7.png"},39:function(e,t,a){e.exports=a.p+"static/media/logo.556f09e8.svg"},43:function(e,t,a){e.exports=a(87)},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),c=a.n(i),s=a(1),o=a(2),l=a(4),u=a(5),m=a(37),d=a.n(m),h=a(3),p=a(15),v=a.n(p),f=a(22),E=a(23),y=a.n(E),_=function(e,t){return"//api.openweathermap.org/data/2.5/".concat(e,"?q=").concat(t,",ua&units=metric&mode=json&appid=").concat("29c7fb83d633d43cf3d3248fc11582a2")};function w(){return function(e,t){var a=new Date,n=new Date(1e3*t().weathers.systemData.sunrise),r=new Date(1e3*t().weathers.systemData.sunset);a.getHours()>n.getHours()+1&&a.getHours()<11?e(g("morning")):a.getHours()>=11&&a.getHours()<=r.getHours()-1?e(g("afternoon")):a.getHours()>=r.getHours()&&a.getHours()<=r.getHours()+1?e(g("evening")):a.getHours()>=n.getHours()&&a.getHours()<=n.getHours()+1?e(g("sunrise")):e(g("night"));var i=document.querySelector("body");i.classList.add(t().background.backStyle),i.classList.item(1)&&i.classList.remove(i.classList.item(0))}}function g(e){return{type:"ADD_STYLE",backStyle:e}}function b(e){return{type:"SET_CITY_NAME",cityName:e}}function N(){return function(){var e=Object(f.a)(v.a.mark((function e(t,a){var n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(D()),n=a().weathers.cityName,e.prev=2,e.next=5,y.a.get(_("weather",n));case 5:r=e.sent,i=r.data,t(S(i)),t(w()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t(O(e.t0)),console.log("aaaaaaa");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()}function D(){return{type:"FETCH_WEATHERS_START"}}function S(e){return{type:"FETCH_WEATHERS_SUCCESS",weatherConditions:e.weather[0],weatherMain:e.main,wind:e.wind,systemData:e.sys}}function O(e){return{type:"FETCH_WEATHERS_ERROR",error:e}}function C(e){return{type:"FETCH_WEATHERS_SUCCESS_FIVE_DAYS",cityDataFiveDays:e.city,weatherInfoFiveDays:e.list}}var F=Object(h.b)(null,(function(e){return{setCityName:function(t){return e(b(t))}}}))((function(e){return r.a.createElement("form",{className:"form"},r.a.createElement("input",{className:"form__input",type:"text",id:"".concat(e.id,"-input"),placeholder:"Change city"}),r.a.createElement("button",{className:"form-btn",type:"submit",onClick:function(t){return e.setCityName(function(t){t.preventDefault();var a=document.getElementById("".concat(e.id,"-input")).value;return console.log(a),a.charAt(0).toUpperCase()+a.slice(1)}(t))}},r.a.createElement("span",{className:"form-btn__text"},"select"),r.a.createElement("img",{className:"form-btn__icon",src:d.a,alt:"select"})))})),k=a(39),j=a.n(k),T=a(13);var H=Object(h.b)((function(e){return{cityName:e.weathers.cityName,error:e.weathers.error}}),(function(e){return{setCityName:function(t){return e(b(t))}}}))((function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar__brand",onClick:function(){return e.setCityName("Kharkov")}},r.a.createElement("img",{className:"navbar__logo",src:j.a,alt:"logo"}),r.a.createElement("div",{className:"navbar__name"},r.a.createElement("span",{className:"navbar__name--small"},"wiu"),r.a.createElement("span",{className:"navbar__name--large"},"weather in ukraine"))),e.error?null:r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"navbar-list"},r.a.createElement("li",{className:"navbar-list__item"},r.a.createElement(T.b,{className:"navbar-list__link",to:"/weatherForecast",exact:!0}," Current ")),r.a.createElement("li",{className:"navbar-list__item"},r.a.createElement(T.b,{className:"navbar-list__link",to:"/weatherForecast/five-day",exact:!0},"For 5 days"))),r.a.createElement("div",{className:"form--navbar"},r.a.createElement(F,{id:"navbar"})))))})),I=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).getDateString=function(){var e=i.state.date;return(r.a.createElement(n.Fragment,null,r.a.createElement("span",{className:"time__current-week"},e.toLocaleString("en-Ua",{weekday:"long"})),r.a.createElement("span",{className:"time__current-date"},e.toLocaleString())))},i.getSunTime=function(e){return new Date(e).toLocaleString("ua",{hour:"numeric",minute:"numeric"})},i.getDayLength=function(e,t){var a=new Date(1e3*t)-new Date(1e3*e)-108e5;return new Date(a).toLocaleString("ua",{hour:"numeric",minute:"numeric"})},i.state={date:new Date},i}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"time__current"},this.getDateString()),this.props.children,this.props.error?null:r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"time-list"},r.a.createElement("li",{className:"time-list__item"},"Sunrise ",this.getSunTime(1e3*this.props.data.sunrise)),r.a.createElement("li",{className:"time-list__item"},"Sunset ",this.getSunTime(1e3*this.props.data.sunset)),r.a.createElement("li",{className:"time-list__item"},"Day length ",this.getDayLength(this.props.data.sunrise,this.props.data.sunset))),r.a.createElement("footer",{className:"footer"},r.a.createElement(F,{id:"footer"}))))}}]),a}(r.a.Component);var M=Object(h.b)((function(e){return{data:e.weathers.systemData,error:e.weathers.error}}))(I),L=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement(H,null)),r.a.createElement("main",{className:"container"},r.a.createElement(M,null,this.props.children)))}}]),a}(n.Component),A=function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))},x=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).bodyClassRemove=function(){var e=document.querySelector("body"),t=e.classList.item(0);return e.classList.remove(t)},e}return Object(o.a)(a,[{key:"render",value:function(){return this.props.error?(this.bodyClassRemove(),r.a.createElement("div",{className:"container"},r.a.createElement(A,null),r.a.createElement("div",{className:"error"},"Please enter the name of the city located in Ukraine."),r.a.createElement(F,{id:"error"}))):this.props.children}}]),a}(r.a.Component);var R=Object(h.b)((function(e){return{error:e.weathers.error,cityName:e.weathers.cityName}}),(function(e){return{fetchWeathers:function(){return e(N())}}}))(x),W=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchWeathers()}},{key:"componentDidUpdate",value:function(e,t){e.cityName!==this.props.cityName&&this.props.fetchWeathers()}},{key:"render",value:function(){return r.a.createElement(R,null,this.props.loading&&0!==this.props.length?r.a.createElement(A,null):r.a.createElement("div",{className:"current"},r.a.createElement("div",{className:"current-header"},r.a.createElement("div",{className:"city-name"},this.props.cityName),r.a.createElement("div",{className:"current-header__info"},r.a.createElement("img",{className:"current-header__icon",src:"http://openweathermap.org/img/wn/".concat(this.props.weatherConditions.icon,"@2x.png"),alt:this.props.weatherConditions.description,title:this.props.weatherConditions.main}),r.a.createElement("div",{className:"current-header__icon-description"},this.props.weatherConditions.description))),r.a.createElement("div",{className:"current-info"},r.a.createElement("div",{className:"current-info-main"},r.a.createElement("div",{className:"current-info-main__temp"},Math.round(this.props.weatherMain.temp)+" \xb0C"),r.a.createElement("div",{className:"current-info-main__feel-temp"},"Feels like: ",r.a.createElement("strong",null,Math.round(this.props.weatherMain.feels_like)+" \xb0C"))),r.a.createElement("ul",{className:"current-conditions"},r.a.createElement("li",{className:"current-conditions__items"},"Wind: ",Math.round(this.props.wind.speed)+"  m/s"),r.a.createElement("li",{className:"current-conditions__items"},"Pressure: ",this.props.weatherMain.pressure+" hPa"),r.a.createElement("li",{className:"current-conditions__items"},"Humidity: ",this.props.weatherMain.humidity+" %")))))}}]),a}(r.a.Component);var U=Object(h.b)((function(e){return{weatherMain:e.weathers.weatherMain,weatherConditions:e.weathers.weatherConditions,wind:e.weathers.wind,systemData:e.weathers.systemData,cityName:e.weathers.cityName,loading:e.weathers.loading}}),(function(e){return{fetchWeathers:function(){return e(N())}}}))(W);var V=function(e){var t=e.listItem;return(r.a.createElement("li",{className:"five-hours-item"},r.a.createElement("div",{className:"five-hours-item__main"},r.a.createElement("span",null,Math.round(t.main.temp)),"  \xb0C"),r.a.createElement("ul",{className:"five-hours-item__container"},r.a.createElement("li",{className:"five-hours-item__info"},"Feels like: ",Math.round(t.main.feels_like)," \xb0C"),r.a.createElement("li",{className:"five-hours-item__info"},"Humidity: ",Math.round(t.main.humidity)," %"),r.a.createElement("li",{className:"five-hours-item__info"},"Pressure: ",Math.round(t.main.pressure)," hPa"),r.a.createElement("li",{className:"five-hours-item__info"},"Wind: ",Math.round(t.wind.speed)," m/s")),r.a.createElement("div",{className:"five-hours-item__image"},r.a.createElement("img",{className:"five-hours-item__icon",src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:"description",title:t.weather[0].description}))))},P=a(41),Y=a.n(P),q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={value:0},e.dayString=function(e){return r.a.createElement("div",{className:"five-hours-date"},r.a.createElement("div",{className:"five-hours-date__numeric"},new Date(1e3*e).toLocaleDateString()),r.a.createElement("div",{className:"five-hours-date__week-day"},new Date(1e3*e).toLocaleString("en-Ua",{weekday:"long"})))},e.formatLabel=function(t){var a;return a=e.props.daysFilter(e.props.dayIndex)[t].dt,new Date(1e3*a).toLocaleTimeString("ua",{hour:"numeric",minute:"numeric"})},e.getValue=function(){var t=e.props.dayIndex,a=e.props.daysFilter(t).length;if(1===a){document.getElementById("input-".concat(t)).style.display="none";var n=document.createElement("div");n.innerText=e.formatLabel(e.state.value),document.querySelectorAll(".five-hours-date")[t].appendChild(n)}else if(a>6)e.setState({value:3});else{var r=Math.floor((a-1)/2);e.setState({value:r})}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getValue()}},{key:"render",value:function(){var e=this,t=this.props,a=t.dayIndex,n=t.date,i=t.daysFilter;return r.a.createElement("div",null,this.dayString(n),r.a.createElement("div",{className:"input",id:"input-".concat(a)},r.a.createElement(Y.a,{formatLabel:function(t){return e.formatLabel(t)},maxValue:i(a).length-1,minValue:0,value:this.state.value,onChange:function(t){return e.setState({value:t})}})),r.a.createElement("ul",{className:"five-hours-list",key:a},i(a).map((function(t,a){if(e.state.value===a)return r.a.createElement(V,{listItem:t,key:t.dt})}))))}}]),a}(n.Component),X=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.daysFilter,a=e.dayDate;return(r.a.createElement("div",{className:"weatherFiveDayItems"},a.map((function(e,a){return r.a.createElement("div",{className:"five-days-container",key:e.dt},r.a.createElement(q,{dayIndex:a,date:e.dt,daysFilter:t}))}))))}}]),a}(r.a.Component),B=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).daysFilter=function(t){var a=Date.parse(Date())+108e5+864e5*t;return e.props.weatherInfoFiveDays.filter((function(e){return new Date(a).toLocaleDateString()===new Date(1e3*e.dt).toLocaleDateString()}))},e.dayDate=function(){for(var t=[],a=0;a<6;a++)e.daysFilter(a)[0]&&t.push(e.daysFilter(a)[0]);return t},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchWeathersFiveDays()}},{key:"componentDidUpdate",value:function(e,t){e.cityName!==this.props.cityName&&this.props.fetchWeathersFiveDays()}},{key:"render",value:function(){return r.a.createElement(R,null,r.a.createElement("div",{className:""},r.a.createElement("div",{className:"five-header"},r.a.createElement("div",{className:"city-name"}," ",this.props.cityName," "),r.a.createElement("div",{className:"five-header__title"},"Hourly weather and forecasts in your city.")),this.props.loading?r.a.createElement(A,null):r.a.createElement("div",{className:"five-main"},r.a.createElement(X,{weatherInfo:this.props.weatherInfoFiveDays,daysFilter:this.daysFilter,dayDate:this.dayDate()}))))}}]),a}(r.a.Component);var J=Object(h.b)((function(e){return{cityName:e.weathers.cityName,weatherInfoFiveDays:e.weathers.weatherInfoFiveDays,loading:e.weathers.loading}}),(function(e){return{fetchWeathersFiveDays:function(){return e(function(){var e=Object(f.a)(v.a.mark((function e(t,a){var n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_WEATHERS_START"}),n=a().weathers.cityName,e.prev=2,e.next=5,y.a.get(_("forecast",n));case 5:r=e.sent,i=r.data,t(C(i)),t(w()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t(O(e.t0)),console.log("aaaaaaa");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}())}}}))(B),K=a(11);var z=function(){var e;return(r.a.createElement("div",null,r.a.createElement(L,null,r.a.createElement(K.d,null,null!==(e=r.a.createElement(K.b,{path:"/weatherForecast/five-day",component:J}))&&void 0!==e?e:r.a.createElement(K.a,{to:"/weatherForecast/"}),r.a.createElement(K.b,{path:"/weatherForecast/",exact:!0,component:U}),r.a.createElement(K.a,{to:"/weatherForecast/"})))))},G=(a(86),a(10)),Q=a(42),Z=a(12),$={weatherMain:[],weatherConditions:[],wind:[],systemData:[],cityName:"Kharkov",loading:!1,error:null,cityDataFiveDays:[],weatherInfoFiveDays:[]};var ee={backStyle:""};var te=Object(G.c)({weathers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHERS_START":return Object(Z.a)({},e,{loading:!0});case"FETCH_WEATHERS_SUCCESS":return Object(Z.a)({},e,{loading:!1,weatherConditions:t.weatherConditions,weatherMain:t.weatherMain,wind:t.wind,systemData:t.systemData,error:null});case"FETCH_WEATHERS_ERROR":return Object(Z.a)({},e,{loading:!1,error:t.error});case"FETCH_WEATHERS_SUCCESS_FIVE_DAYS":return Object(Z.a)({},e,{loading:!1,systemData:t.cityDataFiveDays,weatherInfoFiveDays:t.weatherInfoFiveDays,error:null});case"SET_CITY_NAME":return Object(Z.a)({},e,{cityName:t.cityName});default:return e}},background:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_STYLE":return Object(Z.a)({},e,{backStyle:t.backStyle});default:return e}}}),ae="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):G.d,ne=Object(G.e)(te,ae(Object(G.a)(Q.a))),re=r.a.createElement(h.a,{store:ne},r.a.createElement(T.a,null,r.a.createElement(z,null)));c.a.render(re,document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.744dd0dd.chunk.js.map