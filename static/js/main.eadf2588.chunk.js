(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{37:function(e,t,a){e.exports=a(67)},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),c=a.n(i),s=a(5),l=a(6),o=a(7),u=a(8),m=a(9),h=a(3),p=a(15),d=a.n(p),y=a(20),E=a(21),v=a.n(E),f=function(e,t){return"https://api.openweathermap.org/data/2.5/".concat(e,"?q=").concat(t,",ua&units=metric&mode=json&appid=").concat("c792484ade42380886f51003cfcaf04d")};function w(){return function(e,t){console.log("getState",t().background);var a=new Date,n=new Date(1e3*t().weathers.systemData.sunrise),r=new Date(1e3*t().weathers.systemData.sunset);a.getHours()>n.getHours()+1&&a.getHours()<11?e(g("morning")):a.getHours()>=11&&a.getHours()<=r.getHours()-1?e(g("afternoon")):a.getHours()>=r.getHours()&&a.getHours()<=r.getHours()+1?e(g("evening")):a.getHours()>=n.getHours()&&a.getHours()<=n.getHours()+1?e(g("sunrise")):e(g("night")),document.querySelector("body").classList.add(t().background.backStyle)}}function g(e){return{type:"ADD_STYLE",backStyle:e}}function b(e){return console.log("cityName",e),{type:"SET_CITY_NAME",cityName:e}}function D(e){return{type:"FETCH_WEATHERS_SUCCESS",weatherConditions:e.weather[0],weatherMain:e.main,wind:e.wind,systemData:e.sys}}function N(e){return{type:"FETCH_WEATHERS_ERROR",error:e}}function S(e){return{type:"FETCH_WEATHERS_SUCCESS_FIVE_DAYS",cityDataFiveDays:e.city,weatherInfoFiveDays:e.list}}var C=Object(h.b)((function(e){return{cityName:e.weathers.cityName}}),(function(e){return{setCityName:function(t){return e(b(t))}}}))((function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light "},r.a.createElement("h4",{className:"display-4",style:{cursor:"default"}},"Weather in Ukraine"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{to:"/",exact:!0,className:"navLink"}," now ")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{to:"/five-day",exact:!0,className:"navLink"},"For 5 days"))),r.a.createElement("form",{className:"form-inline my-2 my-lg-1"},r.a.createElement("button",{className:"btn btn-outline-light my-2 my-sm-0 mr-1",type:"submit",onClick:function(t){return e.setCityName(function(e){e.preventDefault();var t=document.getElementById("city-input").value;return t.charAt(0).toUpperCase()+t.slice(1)}(t))}},"SELECT"),r.a.createElement("input",{className:"form-control mr-sm-2",type:"text",id:"city-input",placeholder:e.cityName}))))})),O=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getSunTime=function(e){return new Date(e).toLocaleString("ua",{hour:"numeric",minute:"numeric"})},n.getDayLength=function(e,t){var a=new Date(1e3*t)-new Date(1e3*e)-108e5;return new Date(a).toLocaleString("ua",{hour:"numeric",minute:"numeric"})},n.state={date:new Date},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return r.a.createElement("div",{className:"dateTime"},r.a.createElement("div",null,this.state.date.toLocaleString()),r.a.createElement("div",null,"Sunrise ",this.getSunTime(1e3*this.props.data.sunrise)),r.a.createElement("div",null,"Sunset ",this.getSunTime(1e3*this.props.data.sunset)),r.a.createElement("div",null,"Day length ",this.getDayLength(this.props.data.sunrise,this.props.data.sunset)))}}]),a}(r.a.Component);var _=Object(h.b)((function(e){return{data:e.weathers.systemData}}))(O),T=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(C,null)),r.a.createElement("main",null,this.props.children),r.a.createElement("footer",null,r.a.createElement(_,null)))}}]),a}(n.Component),k=function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))},j=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).cityNameHandler=function(e){var t=document.getElementById("error-input").value;return t.charAt(0).toUpperCase()+t.slice(1)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return this.props.error?r.a.createElement("div",{className:"container error"},r.a.createElement("h1",{className:"display-1"},"Please enter the name of the city located in Ukraine."),r.a.createElement("form",{className:"form-inline"},r.a.createElement("input",{className:"form-control form-control-lg",type:"text",id:"error-input"}),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/",className:"btn btn-outline-light",role:"button",type:"submit",onClick:function(t){return e.props.setCityName(e.cityNameHandler(t))}},"Send")))):this.props.children}}]),a}(r.a.Component);var H=Object(h.b)((function(e){return{error:e.weathers.error}}),(function(e){return{setCityName:function(t){return e(b(t))}}}))(j),F=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log("didMount"),this.props.fetchWeathers()}},{key:"componentDidUpdate",value:function(e,t){e.cityName!==this.props.cityName&&this.props.fetchWeathers()}},{key:"render",value:function(){return r.a.createElement(H,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"weatherItem"},r.a.createElement("div",{className:"cityName"},r.a.createElement("h1",{className:"display-1"},this.props.cityName),this.props.loading&&0!==this.props.length?r.a.createElement(k,null):r.a.createElement("div",{className:"icon"},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(this.props.weatherConditions.icon,"@2x.png"),alt:this.props.weatherConditions.description,title:this.props.weatherConditions.main}),r.a.createElement("p",null,this.props.weatherConditions.description))),this.props.loading&&0!==this.props.length?r.a.createElement(k,null):r.a.createElement("div",{className:"infoToday"},r.a.createElement("div",null,r.a.createElement("h3",{className:"display-1"},Math.ceil(this.props.weatherMain.temp)+" \xb0C"),r.a.createElement("div",null,r.a.createElement("p",null,"Feels like ",r.a.createElement("strong",null,Math.ceil(this.props.weatherMain.feels_like)+" \xb0C")))),r.a.createElement("div",{className:"tempInfo"},r.a.createElement("div",null,"Wind ",Math.ceil(this.props.wind.speed)+"  m/s"),r.a.createElement("div",null,"Pressure ",this.props.weatherMain.pressure+" hPa"),r.a.createElement("div",null,"Humidity ",this.props.weatherMain.humidity+" %"))))))}}]),a}(r.a.Component);var I=Object(h.b)((function(e){return{weatherMain:e.weathers.weatherMain,weatherConditions:e.weathers.weatherConditions,wind:e.weathers.wind,systemData:e.weathers.systemData,cityName:e.weathers.cityName,loading:e.weathers.loading}}),(function(e){return{fetchWeathers:function(){return e(function(){var e=Object(y.a)(d.a.mark((function e(t,a){var n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get",a().weathers),t({type:"FETCH_WEATHERS_START"}),n=a().weathers.cityName,e.prev=3,e.next=6,v.a.get(f("weather",n));case 6:r=e.sent,i=r.data,t(D(i)),console.log("get",a().weathers),t(w()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),t(N(e.t0));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}())}}}))(F);var A=function(e){var t=e.listItem;return r.a.createElement("li",{className:"d"===t.sys.pod?"dayList":"nightList"},r.a.createElement("div",null,function(e){return new Date(1e3*e).toLocaleTimeString("ua",{hour:"numeric",minute:"numeric"})}(t.dt)),r.a.createElement("div",null,r.a.createElement("strong",null,Math.ceil(t.main.temp))," \xb0C"),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png"),alt:"description",title:t.weather[0].description}))},M=function(e){var t=e.daysFilter,a=e.dayDate;return r.a.createElement("div",{className:"weatherFiveDayItems"},a.map((function(e,a){return r.a.createElement("ul",{key:a},function(e){return r.a.createElement("div",null,new Date(1e3*e).toLocaleDateString(),r.a.createElement("h3",null,new Date(1e3*e).toLocaleString("en-Ua",{weekday:"long"})))}(e.dt),t(a).map((function(e){return r.a.createElement(A,{listItem:e,key:e.dt})})))})))},L=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).daysFilter=function(t){var a=Date.parse(Date())+108e5+864e5*t;return e.props.weatherInfoFiveDays.filter((function(e){return new Date(a).toLocaleDateString()===new Date(1e3*e.dt).toLocaleDateString()}))},e.dayDate=function(){for(var t=[],a=0;a<6;a++)e.daysFilter(a)[0]&&t.push(e.daysFilter(a)[0]);return t},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchWeathersFiveDays()}},{key:"componentDidUpdate",value:function(e,t){e.cityName!==this.props.cityName&&this.props.fetchWeathersFiveDays()}},{key:"render",value:function(){return r.a.createElement(H,null,r.a.createElement("div",{className:"container-"},r.a.createElement("header",{style:{textAlign:"center"}},r.a.createElement("h1",{className:"display-4"}," ",this.props.cityName," "),r.a.createElement("p",null,"Hourly weather and forecasts in your city.")),this.props.loading?r.a.createElement(k,null):r.a.createElement("div",null,r.a.createElement(M,{weatherInfo:this.props.weatherInfoFiveDays,daysFilter:this.daysFilter,dayDate:this.dayDate()}))))}}]),a}(r.a.Component);var R=Object(h.b)((function(e){return{cityName:e.weathers.cityName,weatherInfoFiveDays:e.weathers.weatherInfoFiveDays,loading:e.weathers.loading}}),(function(e){return{fetchWeathersFiveDays:function(){return e(function(){var e=Object(y.a)(d.a.mark((function e(t,a){var n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_WEATHERS_START"}),n=a().weathers.cityName,e.prev=2,e.next=5,v.a.get(f("forecast",n));case 5:r=e.sent,i=r.data,t(S(i)),t(w()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t(N(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}())}}}))(L),W=a(11);var x=function(){return r.a.createElement("div",null,r.a.createElement(T,null,r.a.createElement(W.d,null,r.a.createElement(W.b,{path:"/five-day",exact:!0,component:R}),r.a.createElement(W.b,{path:"/",exact:!0,component:I}),r.a.createElement(W.a,{to:"/"}))))},U=(a(65),a(66),a(10)),Y=a(36),P=a(12),V={weatherMain:[],weatherConditions:[],wind:[],systemData:[],cityName:"Kharkov",loading:!1,error:null,cityDataFiveDays:[],weatherInfoFiveDays:[]};var X={backStyle:""};var B=Object(U.c)({weathers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHERS_START":return Object(P.a)({},e,{loading:!0});case"FETCH_WEATHERS_SUCCESS":return Object(P.a)({},e,{loading:!1,weatherConditions:t.weatherConditions,weatherMain:t.weatherMain,wind:t.wind,systemData:t.systemData,error:null});case"FETCH_WEATHERS_ERROR":return Object(P.a)({},e,{loading:!1,error:t.error});case"FETCH_WEATHERS_SUCCESS_FIVE_DAYS":return Object(P.a)({},e,{loading:!1,systemData:t.cityDataFiveDays,weatherInfoFiveDays:t.weatherInfoFiveDays,error:null});case"SET_CITY_NAME":return Object(P.a)({},e,{cityName:t.cityName});default:return e}},background:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_STYLE":return Object(P.a)({},e,{backStyle:t.backStyle});default:return e}}}),q="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):U.d,J=Object(U.e)(B,q(Object(U.a)(Y.a))),K=r.a.createElement(h.a,{store:J},r.a.createElement(m.a,null,r.a.createElement(x,null)));c.a.render(K,document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.eadf2588.chunk.js.map